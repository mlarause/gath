<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GATH DE COLSANITAS - Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <div class="wrapper">
        <!-- Sidebar Completo -->
        <nav id="sidebar" class="bg-primary">
            <div class="sidebar-header text-center py-3">
                <h4 class="text-white">GATH DE COLSANITAS</h4>
            </div>
            <ul class="list-unstyled components">
                <li>
                    <a href="#homeSubmenu" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="bi bi-people-fill me-2"></i>Usuarios
                    </a>
                    <ul class="collapse list-unstyled" id="homeSubmenu">
                        <li>
                            <a href="#" data-section="users" class="menu-link"><i class="bi bi-person-lines-fill me-2"></i>Gestión Usuarios</a>
                        </li>
                        <li>
                            <a href="#" data-section="roles" class="menu-link"><i class="bi bi-shield-lock me-2"></i>Roles</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#vacantesSubmenu" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="bi bi-briefcase-fill me-2"></i>Vacantes
                    </a>
                    <ul class="collapse list-unstyled" id="vacantesSubmenu">
                        <li>
                            <a href="#" data-section="vacancies" class="menu-link"><i class="bi bi-file-earmark-post me-2"></i>Gestión Vacantes</a>
                        </li>
                        <li>
                            <a href="#" data-section="categories" class="menu-link"><i class="bi bi-tags-fill me-2"></i>Categorías</a>
                        </li>
                        <li>
                            <a href="#" data-section="professions" class="menu-link"><i class="bi bi-mortarboard-fill me-2"></i>Profesiones</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#hojaVidaSubmenu" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="bi bi-file-earmark-person-fill me-2"></i>Hojas de Vida
                    </a>
                    <ul class="collapse list-unstyled" id="hojaVidaSubmenu">
                        <li>
                            <a href="#" data-section="resumes" class="menu-link"><i class="bi bi-file-text-fill me-2"></i>Gestión Hojas</a>
                        </li>
                        <li>
                            <a href="#" data-section="experience" class="menu-link"><i class="bi bi-building me-2"></i>Experiencia Laboral</a>
                        </li>
                        <li>
                            <a href="#" data-section="studies" class="menu-link"><i class="bi bi-book-fill me-2"></i>Estudios</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#documentosSubmenu" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="bi bi-folder-fill me-2"></i>Documentos
                    </a>
                    <ul class="collapse list-unstyled" id="documentosSubmenu">
                        <li>
                            <a href="#" data-section="vacations" class="menu-link"><i class="bi bi-airplane-fill me-2"></i>Vacaciones</a>
                        </li>
                        <li>
                            <a href="#" data-section="peaceSafe" class="menu-link"><i class="bi bi-file-earmark-check-fill me-2"></i>Paz y Salvo</a>
                        </li>
                        <li>
                            <a href="#" data-section="disability" class="menu-link"><i class="bi bi-file-earmark-medical-fill me-2"></i>Incapacidad</a>
                        </li>
                        <li>
                            <a href="#" data-section="postulations" class="menu-link"><i class="bi bi-file-earmark-arrow-up-fill me-2"></i>Postulaciones</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>

        <!-- Page Content -->
        <div id="content">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <button type="button" id="sidebarCollapse" class="btn btn-primary">
                        <i class="bi bi-list"></i>
                    </button>
                    <div class="ms-auto">
                        <span class="navbar-text me-3" id="currentUser"></span>
                        <a href="index.html" class="btn btn-outline-danger">
                            <i class="bi bi-box-arrow-right"></i> Cerrar sesión
                        </a>
                    </div>
                </div>
            </nav>

            <!-- Main Content -->
            <div class="container-fluid p-4">
                <div id="mainContent">
                    <!-- Contenido inicial de bienvenida -->
                    <div class="jumbotron bg-light p-5 rounded" id="welcomeContent">
                        <h1 class="display-4">Bienvenido al Dashboard</h1>
                        <p class="lead">Seleccione una opción del menú lateral para comenzar.</p>
                    </div>

                    <!-- Sección de Gestión de Usuarios -->
                    <div id="usersSection" class="content-section" style="display:none;">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5>Gestión de Usuarios</h5>
                                <button id="addUserBtn" class="btn btn-primary">
                                    <i class="bi bi-plus-circle"></i> Agregar Usuario
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped" id="usersTable">
                                        <thead>
                                            <tr>
                                                <th>Documento</th>
                                                <th>Nombre Completo</th>
                                                <th>Email</th>
                                                <th>Rol</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- Los usuarios se cargarán aquí dinámicamente -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sección de Gestión de Roles -->
                    <div id="rolesSection" class="content-section" style="display:none;">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5>Gestión de Roles</h5>
                                <button id="addRoleBtn" class="btn btn-primary">
                                    <i class="bi bi-plus-circle"></i> Agregar Rol
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped" id="rolesTable">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Nombre del Rol</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- Los roles se cargarán aquí dinámicamente -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Otras secciones (puedes completar el contenido según necesites) -->
                    <div id="vacanciesSection" class="content-section" style="display:none;">
                        <div class="card">
                            <div class="card-header">
                                <h5>Gestión de Vacantes</h5>
                            </div>
                            <div class="card-body">
                                <p>Contenido de gestión de vacantes aparecerá aquí.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="categoriesSection" class="content-section" style="display:none;">
                        <div class="card">
                            <div class="card-header">
                                <h5>Gestión de Categorías</h5>
                            </div>
                            <div class="card-body">
                                <p>Contenido de gestión de categorías aparecerá aquí.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Continúa con las demás secciones según tu estructura -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para usuarios -->
    <div class="modal fade" id="userModal" tabindex="-1" aria-labelledby="userModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="userModalLabel">Nuevo Usuario</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="userForm">
                        <!-- El formulario se cargará aquí dinámicamente -->
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="modalSave">Guardar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para roles -->
    <div class="modal fade" id="roleModal" tabindex="-1" aria-labelledby="roleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="roleModalLabel">Nuevo Rol</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="roleForm">
                        <div class="mb-3">
                            <label for="roleDescription" class="form-label">Nombre del Rol</label>
                            <input type="text" class="form-control" id="roleDescription" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="saveRoleBtn">Guardar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/models/UserModel.js"></script>
    <script src="js/models/RoleModel.js"></script>
    <script src="js/models/VacancyModel.js"></script>
    <script src="js/models/CategoryModel.js"></script>
    <script src="js/models/ProfessionModel.js"></script>
    <script src="js/models/ResumeModel.js"></script>
    <script src="js/models/ExperienceModel.js"></script>
    <script src="js/models/StudyModel.js"></script>
    <script src="js/models/VacationModel.js"></script>
    <script src="js/models/PeaceSafeModel.js"></script>
    <script src="js/models/DisabilityModel.js"></script>
    <script src="js/models/PostulationModel.js"></script>
    <script src="js/views/DashboardView.js"></script>
    <script src="js/controllers/DashboardController.js"></script>
    <script src="js/controllers/RoleController.js"></script>
    <script src="js/app.js"></script>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Ocultar todas las secciones y mostrar solo la de bienvenida
        document.querySelectorAll('.content-section').forEach(section => {
            section.style.display = 'none';
        });
        document.getElementById('welcomeContent').style.display = 'block';

        // Configurar event listeners para el menú
        document.querySelectorAll('.menu-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const section = this.getAttribute('data-section');
                
                // Ocultar todo el contenido
                document.getElementById('welcomeContent').style.display = 'none';
                document.querySelectorAll('.content-section').forEach(div => {
                    div.style.display = 'none';
                });

                // Mostrar la sección seleccionada
                const sectionElement = document.getElementById(section + 'Section');
                if(sectionElement) {
                    sectionElement.style.display = 'block';
                }
            });
        });

        // Configurar el colapso del sidebar
        document.getElementById('sidebarCollapse').addEventListener('click', function() {
            document.getElementById('sidebar').classList.toggle('active');
        });
    });
</script>


</body>
</html>